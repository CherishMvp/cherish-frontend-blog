import{_ as i,c as a,a2 as n,o as l}from"./chunks/framework.BeuUUHFt.js";const d=JSON.parse('{"title":"pinia","description":"","frontmatter":{},"headers":[],"relativePath":"4.åº“/pinia/3.pinna.md","filePath":"4.åº“/pinia/3.pinna.md","lastUpdated":1731997977000}'),p={name:"4.åº“/pinia/3.pinna.md"};function t(h,s,e,k,B,r){return l(),a("div",null,s[0]||(s[0]=[n(`<h1 id="pinia" tabindex="-1">pinia <a class="header-anchor" href="#pinia" aria-label="Permalink to &quot;pinia&quot;">â€‹</a></h1><blockquote><p><a href="https://pinia.vuejs.org/zh/introduction.html" target="_blank" rel="noreferrer">https://pinia.vuejs.org/zh/introduction.html</a></p><p>piniaæ˜¯vueç”Ÿæ€é‡Œvuexçš„ä»£æ›¿è€…ï¼Œä¸€ä¸ªå…¨æ–°çŠ¶æ€ç®¡ç†åº“ï¼Œpiniaç›¸è¾ƒäºvuexçš„ä¼˜åŠ¿ï¼š</p><ol><li>vue2å’Œvue3éƒ½å¯ä»¥å¾ˆå¥½çš„æ”¯æŒ</li><li>æŠ›å¼ƒäº†mutationsçš„æ“ä½œï¼Œåªæœ‰stateã€getterså’Œactionsï¼Œç®€åŒ–äº†çŠ¶æ€ç®¡ç†åº“çš„ä½¿ç”¨ï¼Œè®©ä»£ç ç¼–å†™æ›´åŠ å®¹æ˜“ç›´è§‚</li><li>ä¸éœ€è¦åµŒå¥—æ¨¡å—ï¼Œç¬¦åˆvue3çš„composition apiï¼Œè®©ä»£ç æ›´åŠ æ‰å¹³åŒ–</li><li>å®Œæ•´çš„TypeScriptæ”¯æŒ</li><li>ä»£ç æ›´åŠ ç®€æ´ï¼Œå¯ä»¥å®ç°å¾ˆå¥½çš„ä»£ç è‡ªåŠ¨åˆ†å‰²ã€‚vue2çš„æ—¶ä»£ï¼Œå†™ä»£ç éœ€è¦æ¥å›ç¿»æ»šå±å¹•å±å¹•æ‰¾å˜é‡ï¼ŒVue3çš„Composition apiå®Œç¾äº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å¯ä»¥å®ç°ä»£ç åˆ†å‰²ï¼Œpiniaä¹ŸåŒæ ·ç»§æ‰¿äº†è¿™ä¸ªä¼˜ç‚¹</li></ol><p>å¯ä»¥ç®€å•æ€»ç»“piniaçš„ä¼˜åŠ¿å°±æ˜¯ï¼Œæ›´åŠ ç®€æ´çš„è¯­æ³•ï¼Œæ”¯æŒvue3çš„composition apiå’Œå¯¹typescriptçš„æ”¯æŒ</p></blockquote><h2 id="å®‰è£…" tabindex="-1">å®‰è£… <a class="header-anchor" href="#å®‰è£…" aria-label="Permalink to &quot;å®‰è£…&quot;">â€‹</a></h2><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">pnpm</span><span style="--shiki-light:#9DB1C5;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#9DB1C5;--shiki-dark:#98C379;"> pinia</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>src/main.ts</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">createApp</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> App</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;./App.vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">createPinia</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;pinia&#39;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åˆ›å»ºpiniaå®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> pinia</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> createPinia</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æŒ‚è½½åˆ°Vueæ ¹å®ä¾‹ä¸Š</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> app</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">createApp</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">App</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">pinia</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">mount</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&#39;#app&#39;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Vue 2ï¼Œè¿˜éœ€è¦å®‰è£…æ’ä»¶</p><p>Vue 2 ä¸­ï¼ŒPinia ä½¿ç”¨çš„æ˜¯ Vuex çš„ç°æœ‰æ¥å£ (å› æ­¤ä¸èƒ½ä¸ Vuex ä¸€èµ·ä½¿ç”¨)</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">createPinia</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> PiniaVuePlugin</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;pinia&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">Vue</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">PiniaVuePlugin</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> pinia</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> createPinia</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> Vue</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  el</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;#app&#39;</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å…¶ä»–é…ç½®...</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // è¯·æ³¨æ„ï¼ŒåŒä¸€ä¸ª\`pinia&#39;å®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å¯ä»¥åœ¨åŒä¸€ä¸ªé¡µé¢çš„å¤šä¸ª Vue åº”ç”¨ä¸­ä½¿ç”¨ã€‚ </span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  pinia</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="store-æ˜¯ä»€ä¹ˆ" tabindex="-1">Store æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#store-æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;Store æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p>Store (å¦‚ Pinia) æ˜¯ä¸€ä¸ªä¿å­˜çŠ¶æ€å’Œä¸šåŠ¡é€»è¾‘çš„å®ä½“ï¼Œå®ƒå¹¶ä¸ä¸ä½ çš„ç»„ä»¶æ ‘ç»‘å®šã€‚æ¢å¥è¯è¯´ï¼Œ<strong>å®ƒæ‰¿è½½ç€å…¨å±€çŠ¶æ€</strong>ã€‚å®ƒæœ‰ç‚¹åƒä¸€ä¸ªæ°¸è¿œå­˜åœ¨çš„ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥è¯»å–å’Œå†™å…¥å®ƒã€‚å®ƒæœ‰<strong>ä¸‰ä¸ªæ¦‚å¿µ</strong>ï¼Œstateã€getter å’Œ actionï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾è¿™äº›æ¦‚å¿µç›¸å½“äºç»„ä»¶ä¸­çš„ <code>data</code>ã€ <code>computed</code> å’Œ <code>methods</code></p><h2 id="åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨-store" tabindex="-1">åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ Store <a class="header-anchor" href="#åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨-store" aria-label="Permalink to &quot;åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ Store&quot;">â€‹</a></h2><p>ä¸€ä¸ª Store åº”è¯¥åŒ…å«å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨ä¸­è®¿é—®çš„æ•°æ®ã€‚è¿™åŒ…æ‹¬åœ¨è®¸å¤šåœ°æ–¹ä½¿ç”¨çš„æ•°æ®ï¼Œä¾‹å¦‚æ˜¾ç¤ºåœ¨å¯¼èˆªæ ä¸­çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä»¥åŠéœ€è¦é€šè¿‡é¡µé¢ä¿å­˜çš„æ•°æ®ï¼Œä¾‹å¦‚ä¸€ä¸ªéå¸¸å¤æ‚çš„å¤šæ­¥éª¤è¡¨å•</p><p>å¦ä¸€æ–¹é¢ï¼Œä½ åº”è¯¥é¿å…åœ¨ Store ä¸­å¼•å…¥é‚£äº›åŸæœ¬å¯ä»¥åœ¨ç»„ä»¶ä¸­ä¿å­˜çš„æœ¬åœ°æ•°æ®ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªå…ƒç´ åœ¨é¡µé¢ä¸­çš„å¯è§æ€§</p><p>å¹¶éæ‰€æœ‰çš„åº”ç”¨éƒ½éœ€è¦è®¿é—®å…¨å±€çŠ¶æ€ï¼Œä½†å¦‚æœä½ çš„åº”ç”¨ç¡®å®éœ€è¦ä¸€ä¸ªå…¨å±€çŠ¶æ€ï¼Œé‚£ Pinia å°†ä½¿ä½ çš„å¼€å‘è¿‡ç¨‹æ›´è½»æ¾</p><h2 id="å®šä¹‰store" tabindex="-1">å®šä¹‰store <a class="header-anchor" href="#å®šä¹‰store" aria-label="Permalink to &quot;å®šä¹‰store&quot;">â€‹</a></h2><p>Store æ˜¯ç”¨ <code>defineStore()</code> æ–¹æ³•å®šä¹‰çš„ï¼Œéœ€è¦ä¸¤ä¸ªå‚æ•°</p><ul><li>å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°è¦æ±‚æ˜¯ä¸€ä¸ª<strong>ç‹¬ä¸€æ— äºŒçš„</strong>åå­—ï¼Œè¿™ä¸ª<strong>åå­—</strong> ï¼Œä¹Ÿè¢«ç”¨ä½œ <em>id</em> ï¼Œæ˜¯å¿…é¡»ä¼ å…¥çš„ï¼Œ Pinia å°†ç”¨å®ƒæ¥è¿æ¥ store å’Œ devtoolsã€‚ä¸ºäº†å…»æˆä¹ æƒ¯æ€§çš„ç”¨æ³•ï¼Œå°†è¿”å›çš„å‡½æ•°å‘½åä¸º <em>use...</em> æ˜¯ä¸€ä¸ªç¬¦åˆç»„åˆå¼å‡½æ•°é£æ ¼çš„çº¦å®š</li><li><code>defineStore()</code> çš„ç¬¬äºŒä¸ªå‚æ•°å¯æ¥å—ä¸¤ç±»å€¼ï¼šSetup å‡½æ•°æˆ– Option å¯¹è±¡</li></ul><p>åˆ›å»º<code>src/store/index.ts</code>æ–‡ä»¶</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">defineStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;pinia&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä½ å¯ä»¥å¯¹ \`defineStore()\` çš„è¿”å›å€¼è¿›è¡Œä»»æ„å‘½åï¼Œä½†æœ€å¥½ä½¿ç”¨ store çš„åå­—ï¼ŒåŒæ—¶ä»¥ \`use\` å¼€å¤´ä¸”ä»¥ \`Store\` ç»“å°¾ã€‚(æ¯”å¦‚ \`useUserStore\`ï¼Œ\`useCartStore\`ï¼Œ\`useProductStore\`)</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä½ çš„åº”ç”¨ä¸­ Store çš„å”¯ä¸€ IDã€‚</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> useAlertsStore</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> defineStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&#39;alerts&#39;</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å…¶ä»–é…ç½®...</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="option-store" tabindex="-1">Option Store <a class="header-anchor" href="#option-store" aria-label="Permalink to &quot;Option Store&quot;">â€‹</a></h2><p>ä¸ Vue çš„é€‰é¡¹å¼ API ç±»ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªå¸¦æœ‰ <code>state</code>ã€<code>actions</code> ä¸ <code>getters</code> å±æ€§çš„ Option å¯¹è±¡</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> useCounterStore</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> defineStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&#39;counter&#39;</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">  state</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> ({ </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#F8F8F8;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> })</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  getters</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">    double</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#B392F0;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">state</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> state</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#F8F8F8;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  actions</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">    increment</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">      this</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">    }</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ä½ å¯ä»¥è®¤ä¸º <code>state</code> æ˜¯ store çš„æ•°æ® (<code>data</code>)ï¼Œ<code>getters</code> æ˜¯ store çš„è®¡ç®—å±æ€§ (<code>computed</code>)ï¼Œè€Œ <code>actions</code> åˆ™æ˜¯æ–¹æ³• (<code>methods</code>)ã€‚</p><p>ä¸ºæ–¹ä¾¿ä¸Šæ‰‹ä½¿ç”¨ï¼ŒOption Store åº”å°½å¯èƒ½ç›´è§‚ç®€å•</p><h2 id="setup-store" tabindex="-1">Setup Store <a class="header-anchor" href="#setup-store" aria-label="Permalink to &quot;Setup Store&quot;">â€‹</a></h2><p>ä¹Ÿå­˜åœ¨å¦ä¸€ç§å®šä¹‰ store çš„å¯ç”¨è¯­æ³•ã€‚ä¸ Vue ç»„åˆå¼ API çš„ <a href="https://cn.vuejs.org/api/composition-api-setup.html" target="_blank" rel="noreferrer">setup å‡½æ•°</a> ç›¸ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å®šä¹‰äº†ä¸€äº›å“åº”å¼å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå¸¦æœ‰æˆ‘ä»¬æƒ³æš´éœ²å‡ºå»çš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> useCounterStore</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> defineStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&#39;counter&#39;</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> count</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> ref</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#F8F8F8;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">  function</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> increment</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">    count</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> increment</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>åœ¨ <em>Setup Store</em> ä¸­ï¼š</p><ul><li><code>ref()</code> å°±æ˜¯ <code>state</code> å±æ€§</li><li><code>computed()</code> å°±æ˜¯ <code>getters</code></li><li><code>function()</code> å°±æ˜¯ <code>actions</code></li></ul><p>Setup store æ¯” Option Store å¸¦æ¥äº†æ›´å¤šçš„çµæ´»æ€§ï¼Œå› ä¸ºä½ å¯ä»¥åœ¨ä¸€ä¸ª store å†…åˆ›å»ºä¾¦å¬å™¨ï¼Œå¹¶è‡ªç”±åœ°ä½¿ç”¨ä»»ä½•ç»„åˆå¼å‡½æ•°ã€‚ä¸è¿‡ï¼Œè¯·è®°ä½ï¼Œä½¿ç”¨ç»„åˆå¼å‡½æ•°ä¼šè®© SSR å˜å¾—æ›´åŠ å¤æ‚</p><h2 id="ä½¿ç”¨-store" tabindex="-1">ä½¿ç”¨ Store <a class="header-anchor" href="#ä½¿ç”¨-store" aria-label="Permalink to &quot;ä½¿ç”¨ Store&quot;">â€‹</a></h2><p>è™½ç„¶æˆ‘ä»¬å‰é¢å®šä¹‰äº†ä¸€ä¸ª storeï¼Œä½†åœ¨æˆ‘ä»¬ä½¿ç”¨ <code>&lt;script setup&gt;</code> è°ƒç”¨ <code>useStore()</code>(æˆ–è€…ä½¿ç”¨ <code>setup()</code> å‡½æ•°ï¼Œ<strong>åƒæ‰€æœ‰çš„ç»„ä»¶é‚£æ ·</strong>) ä¹‹å‰ï¼Œstore å®ä¾‹æ˜¯ä¸ä¼šè¢«åˆ›å»ºçš„ï¼š</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> setup</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">useCounterStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;@/stores/counter&#39;</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// access the \`store\` variable anywhere in the component âœ¨</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> store</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> useCounterStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä½ å¯ä»¥å®šä¹‰ä»»æ„å¤šçš„ storeï¼Œä½†ä¸ºäº†è®©ä½¿ç”¨ pinia çš„ç›Šå¤„æœ€å¤§åŒ–(æ¯”å¦‚å…è®¸æ„å»ºå·¥å…·è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²ä»¥åŠ TypeScript æ¨æ–­)ï¼Œ<strong>ä½ åº”è¯¥åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­å»å®šä¹‰ store</strong></p><p>ä¸€æ—¦ store è¢«å®ä¾‹åŒ–ï¼Œä½ å¯ä»¥ç›´æ¥è®¿é—®åœ¨ store çš„ <code>state</code>ã€<code>getters</code> å’Œ <code>actions</code> ä¸­å®šä¹‰çš„ä»»ä½•å±æ€§</p><p>è¯·æ³¨æ„ï¼Œ<code>store</code> æ˜¯ä¸€ä¸ªç”¨ <code>reactive</code> åŒ…è£…çš„å¯¹è±¡ï¼Œè¿™æ„å‘³ç€ä¸éœ€è¦åœ¨ getters åé¢å†™ <code>.value</code>ï¼Œå°±åƒ <code>setup</code> ä¸­çš„ <code>props</code> ä¸€æ ·ï¼Œ<strong>å¦‚æœå†™äº†ï¼Œä¹Ÿä¸èƒ½è§£æ„</strong>ï¼š</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> setup</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> store</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> useCounterStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// âŒ This won&#39;t work because it breaks reactivity</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// it&#39;s the same as destructuring from \`props\`</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">name</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> doubleCount</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // will always be &quot;Eduardo&quot; </span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">doubleCount</span><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // will always be 0 </span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">setTimeout</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">  store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">increment</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#F8F8F8;--shiki-dark:#D19A66;"> 1000</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// âœ… this one will be reactive</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ğŸ’¡ but you could also just use \`store.doubleCount\` directly</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> doubleValue</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> computed</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">doubleCount</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>ä¸ºäº†ä» store ä¸­æå–å±æ€§æ—¶ä¿æŒå…¶å“åº”æ€§ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>storeToRefs()</code>ã€‚å®ƒå°†ä¸ºæ¯ä¸€ä¸ªå“åº”å¼å±æ€§åˆ›å»ºå¼•ç”¨ã€‚å½“ä½ åªä½¿ç”¨ store çš„çŠ¶æ€è€Œä¸è°ƒç”¨ä»»ä½• action æ—¶ï¼Œå®ƒä¼šéå¸¸æœ‰ç”¨ã€‚è¯·æ³¨æ„ï¼Œä½ å¯ä»¥ç›´æ¥ä» store ä¸­è§£æ„ actionï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿè¢«ç»‘å®šåˆ° store ä¸Šï¼š</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> setup</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">storeToRefs</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;pinia&#39;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> store</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> useCounterStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// \`name\` and \`doubleCount\` are reactive refs</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// This will also extract refs for properties added by plugins</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// but skip any action or non reactive (non ref/reactive) property</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">name</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> doubleCount</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> storeToRefs</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// the increment action can just be destructured</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">increment</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> store</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="typescriptæ”¯æŒ" tabindex="-1">TypeScriptæ”¯æŒ <a class="header-anchor" href="#typescriptæ”¯æŒ" aria-label="Permalink to &quot;TypeScriptæ”¯æŒ&quot;">â€‹</a></h2><p>å¹¶ä¸éœ€è¦åšå¤ªå¤šåŠªåŠ›å°±èƒ½ä½¿ state å…¼å®¹ TSã€‚ Pinia ä¼šè‡ªåŠ¨æ¨æ–­å‡º state çš„ç±»å‹ï¼Œä½†åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œå¾—ç”¨ä¸€äº›æ–¹æ³•æ¥å¸®å®ƒä¸€æŠŠ</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> useStore</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> defineStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&#39;storeId&#39;</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">  state</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // ç”¨äºåˆå§‹åŒ–ç©ºåˆ—è¡¨</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">      userList</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> [] </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">as</span><span style="--shiki-light:#B392F0;--shiki-dark:#E5C07B;"> UserInfo</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">[]</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#6B737C;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // ç”¨äºå°šæœªåŠ è½½çš„æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">      user</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#79B8FF;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#B392F0;--shiki-dark:#E5C07B;"> UserInfo</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> null</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">interface</span><span style="--shiki-light:#B392F0;--shiki-dark:#E5C07B;"> UserInfo</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> string</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  age</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> number</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>æˆ–è€…ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæ¥å£å®šä¹‰ stateï¼Œå¹¶æ·»åŠ  <code>state()</code> çš„è¿”å›å€¼çš„ç±»å‹</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">interface</span><span style="--shiki-light:#B392F0;--shiki-dark:#E5C07B;"> State</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  userList</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#E5C07B;"> UserInfo</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">[]</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  user</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#E5C07B;"> UserInfo</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> null</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> useStore</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> defineStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&#39;storeId&#39;</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">  state</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> ()</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#E5C07B;"> State</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">      userList</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">      user</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#79B8FF;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">interface</span><span style="--shiki-light:#B392F0;--shiki-dark:#E5C07B;"> UserInfo</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> string</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  age</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> number</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="è®¿é—®-state" tabindex="-1">è®¿é—® state <a class="header-anchor" href="#è®¿é—®-state" aria-label="Permalink to &quot;è®¿é—® state&quot;">â€‹</a></h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ <code>store</code> å®ä¾‹è®¿é—® stateï¼Œç›´æ¥å¯¹å…¶è¿›è¡Œè¯»å†™</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;{{ store.count }}&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> @click</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;add&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;å¢åŠ &lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> lang</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;ts&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> setup</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">useCounterStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;@/stores/index&#39;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> store</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> useCounterStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> add</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">  store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="è§£æ„èµ‹å€¼-storetorefs" tabindex="-1">è§£æ„èµ‹å€¼ <code>storeToRefs()</code> <a class="header-anchor" href="#è§£æ„èµ‹å€¼-storetorefs" aria-label="Permalink to &quot;è§£æ„èµ‹å€¼ \`storeToRefs()\`&quot;">â€‹</a></h2><p>ä¸ºäº†ä» store ä¸­æå–å±æ€§æ—¶ä¿æŒå…¶å“åº”æ€§ï¼Œéœ€è¦ä½¿ç”¨ <code>storeToRefs()</code>ã€‚å®ƒå°†ä¸ºæ¯ä¸€ä¸ªå“åº”å¼å±æ€§åˆ›å»ºå¼•ç”¨</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;{{ store.count }}&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> @click</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;add&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;å¢åŠ &lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> lang</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;ts&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> setup</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">storeToRefs</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;pinia&#39;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">useCounterStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;@/stores/index&#39;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> store</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> useCounterStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> storeToRefs</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> add</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">  count</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> reset</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">  store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">$reset</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="é‡ç½®-state" tabindex="-1">é‡ç½® state <a class="header-anchor" href="#é‡ç½®-state" aria-label="Permalink to &quot;é‡ç½® state&quot;">â€‹</a></h2><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#E5C07B;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#E5C07B;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;{{ </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> }}</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">  &lt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> @</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">click</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;add&quot;</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">å¢åŠ </span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">  &lt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> @</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">click</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;reset&quot;</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">é‡ç½®</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> lang</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;ts&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> setup</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">storeToRefs</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;pinia&#39;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">useCounterStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;@/stores/index&#39;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> store</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> useCounterStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> storeToRefs</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> add</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">  count</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> reset</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">  store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">$reset</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="ä¿®æ”¹æ•°æ®" tabindex="-1">ä¿®æ”¹æ•°æ® <a class="header-anchor" href="#ä¿®æ”¹æ•°æ®" aria-label="Permalink to &quot;ä¿®æ”¹æ•°æ®&quot;">â€‹</a></h2><p>storeæ•°æ®å¢åŠ ä¸€ä¸ªcountï¼Œ\\src\\store\\index.tsæ–‡ä»¶å¦‚ä¸‹</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">state</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">    count</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#F8F8F8;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æ–°å»ºä¸¤ä¸ªç»„ä»¶ï¼Œåœ¨ä¸€ä¸ªç»„ä»¶é‡Œä¿®æ”¹çŠ¶æ€æ•°æ®ï¼Œè§‚å¯Ÿå¦ä¸€ä¸ªç»„ä»¶ä¸­çš„æ•°æ®æ˜¯å¦ä¼šæ”¹å˜</p><p>åœ¨\\components\\æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªç»„ä»¶</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> class</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;{{ store.count }}&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> lang</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;ts&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> setup</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">mainStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &quot;@/store/index&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> store</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> mainStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>åœ¨components\\æ–‡ä»¶å¤¹ä¸‹æ–°å»ºå¦ä¸€ä¸ªç»„ä»¶</p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> @click</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;handleClick&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;ç‚¹å‡»å¢åŠ &lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> lang</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;ts&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> setup</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">mainStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &quot;@/store/index&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> store</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> mainStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> handleClick</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">  store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">style</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> lang</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;scss&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#D19A66;"> scoped</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">style</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>app.vueä¸­ä½¿ç”¨è¿™ä¸¤ä¸ªç»„ä»¶</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">storeData</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">storeData</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">addButton</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">addButton</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>è§£æ„èµ‹å€¼çš„å‘</p></blockquote><p>è¿™æ ·è§£æ„æ˜¯æ²¡æœ‰ä½œç”¨çš„</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> class</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">{ store.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">hr</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> class</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">{ </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> lang</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;ts&quot;</span><span style="--shiki-light:#B392F0;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> setup</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">import </span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> mainStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;"> }</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> from &quot;../store/index&quot;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">const store = mainStore()</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">const </span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> count</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;"> }</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> = store</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>æ­£ç¡®çš„è§£æ„æ–¹å¼</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">{ </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">h2</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">template</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> lang</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;ts&quot;</span><span style="--shiki-light:#B392F0;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> setup</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">import </span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> mainStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;"> }</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> from &quot;../store/index&quot;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">import </span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> storeToRefs</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;"> }</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> from &quot;pinia&quot;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">const </span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;"> count</span><span style="--shiki-light:#B392F0;--shiki-dark:#C678DD;"> }</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> = storeToRefs(mainStore())</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ä¿®æ”¹æ•°æ®çš„å¦å¤–ä¸‰ç§æ–¹å¼" tabindex="-1">ä¿®æ”¹æ•°æ®çš„å¦å¤–ä¸‰ç§æ–¹å¼ <a class="header-anchor" href="#ä¿®æ”¹æ•°æ®çš„å¦å¤–ä¸‰ç§æ–¹å¼" aria-label="Permalink to &quot;ä¿®æ”¹æ•°æ®çš„å¦å¤–ä¸‰ç§æ–¹å¼&quot;">â€‹</a></h2><p>ä¿®æ”¹å¤šæ¡æ•°æ®ï¼Œå»ºè®®ä½¿ç”¨<code>$patch</code>çš„æ–¹æ³•ï¼Œpiniaçš„å®˜æ–¹æ–‡æ¡£æ˜ç¡®è¡¨ç¤º$patchçš„æ–¹å¼æ˜¯ç»è¿‡ä¼˜åŒ–çš„ï¼Œä¼šåŠ å¿«ä¿®æ”¹é€Ÿåº¦ï¼Œå¯¹ç¨‹åºçš„æ€§èƒ½æœ‰å¾ˆå¤§çš„å¥½å¤„</p><p>ä¸€ï¼Œä½¿ç”¨å¯¹è±¡çš„å†™æ³•</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> handleClickPatch</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">  store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">$patch</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">    count</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#F8F8F8;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">    state.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">helloWorld</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> state</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">helloWorld</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &quot;hello&quot;</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> ?</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &quot;world&quot;</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  })</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>äºŒï¼Œä½¿ç”¨å‡½æ•°çš„å†™æ³•</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> handleClickMethod</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">  store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">$patch</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#B392F0;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">state</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">    state</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">    state</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">helloWorld</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> state</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">helloWorld</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &quot;hello&quot;</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> ?</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &quot;world&quot;</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &quot;hello&quot;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  })</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ä¸‰ï¼Œä½¿ç”¨actions</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">actions</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">    changeState</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(){</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">        this</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">        this</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">helloWorld</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&#39;hello&#39;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> handleClickActions</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> ()</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">  store</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">changeState</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="getters" tabindex="-1">getters <a class="header-anchor" href="#getters" aria-label="Permalink to &quot;getters&quot;">â€‹</a></h2><p>å’Œvueä¸­çš„è®¡ç®—å±æ€§å‡ ä¹ä¸€æ ·ï¼Œå°±æ˜¯åœ¨è·å–stateçš„å€¼æ—¶ä½œä¸€äº›å¤„ç†ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œgetterså…·æœ‰ç¼“å­˜ç‰¹æ€§</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">getters</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">    phoneHidden</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">state</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">      return</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> state</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;">phone</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">toString</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">replace</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">/</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">^</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">(\\d</span><span style="--shiki-light:#F97583;--shiki-dark:#D19A66;">{3}</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">)\\d</span><span style="--shiki-light:#F97583;--shiki-dark:#D19A66;">{4}</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">(\\d</span><span style="--shiki-light:#F97583;--shiki-dark:#D19A66;">{4}</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">$</span><span style="--shiki-light:#FFAB70;--shiki-dark:#E06C75;">/</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &#39;$1****$2&#39;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="å¤šä¸ªstore" tabindex="-1">å¤šä¸ªstore <a class="header-anchor" href="#å¤šä¸ªstore" aria-label="Permalink to &quot;å¤šä¸ªstore&quot;">â€‹</a></h2><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes min-dark one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">defineStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &quot;pinia&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> otherStore</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> defineStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;other&quot;</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">  state</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">      count</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#F8F8F8;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#79B8FF;--shiki-dark:#E5C07B;"> mainStore</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> defineStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;">&quot;main&quot;</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">  state</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">      hello</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#FFAB70;--shiki-dark:#98C379;"> &quot;world&quot;</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  getters</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">    doubleCount</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#F97583;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;"> otherStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#F8F8F8;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span><span style="--shiki-light:#BBBBBB;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">  actions</span><span style="--shiki-light:#F97583;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">    add</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#61AFEF;">      otherStore</span><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#B392F0;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#F97583;--shiki-dark:#56B6C2;">++</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="vue-devtoolsè°ƒè¯•pinna" tabindex="-1">vue-devtoolsè°ƒè¯•pinna <a class="header-anchor" href="#vue-devtoolsè°ƒè¯•pinna" aria-label="Permalink to &quot;vue-devtoolsè°ƒè¯•pinna&quot;">â€‹</a></h2><p>å®‰è£…vue-devtoolsæ’ä»¶ï¼Œf12è°ƒè¯•é¡¹ç›®ï¼Œå¯ä»¥æŸ¥çœ‹piniaæ•°æ®</p>`,84)]))}const g=i(p,[["render",t]]);export{d as __pageData,g as default};
